(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f1617da"],{"17b3":function(t,e,a){},"4ff2":function(t,e,a){"use strict";a.r(e);var i=a("8336"),s=a("a523"),n=a("8fea"),l=a("cd55"),o=a("49e2"),r=a("c865"),u=a("0393"),c=a("132d"),h=a("891e"),d=function(){var t=this,e=t._self._c;return e("div",[e(s["a"],[e(n["a"],{staticClass:"elevation-4",attrs:{headers:t.table.headers,items:t.table.data,loading:t.table.loading,dense:"",page:t.page,"items-per-page":t.itemsPerPage,"item-key":"serial","show-select":"","fixed-header":"",height:"600px"},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"datatable-header w-full"},[e("div",{staticClass:"w-full flex-space pa-4"},[e("span",[e(c["a"],{on:{click:function(e){return e.preventDefault(),t.checkGoAppHealth.apply(null,arguments)}}},[t._v("mdi-checkbook")]),t._v(" "+t._s(t.$t("invoices"))+" ")],1)]),e("div",{staticClass:"pa-4"},[e(u["a"],{staticClass:"gr-bg",model:{value:t.filtersOpened,callback:function(e){t.filtersOpened=e},expression:"filtersOpened"}},[e(l["a"],[e(r["a"],[e("span",[e(c["a"],[t._v("mdi-filter-multiple-outline")]),t._v(" "+t._s(t.$t("select_data"))+" ")],1)]),e(o["a"],[e("app-form",{attrs:{form:t.filters}})],1)],1)],1)],1),t.table.data.length>0?e("div",{staticClass:"w-full mb-4 pa-4 flex-space"},[e("span",[t._v(t._s(t.$tc("table_page",t.from))+" "+t._s(t.to)+" "+t._s(t.$tc("table_count",t.table.data.length)))]),e(h["a"],{attrs:{length:t.pageCount,"total-visible":7},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e(),1!=t.filters.state.posted&&t.showUpload?e("div",{staticClass:"w-full mb-4 pa-4 flex-space"},[e(i["a"],t._g(t._b({staticClass:"app-btn",attrs:{loading:t.table.loading},on:{click:function(e){return e.preventDefault(),t.upload(t.selected)}}},"v-btn",t.attrs,!1),t.on),[e(c["a"],{staticClass:"mx-2"},[t._v("mdi-upload-outline")]),t._v(" "+t._s(t.$t("upload_whole"))+" ")],1)],1):t._e()])]},proxy:!0},{key:"item.totalTax",fn:function({item:a}){return[e("span",[t._v(t._s(t.currency(a.totalTax)))])]}},{key:"item.netAmount",fn:function({item:a}){return[e("td",[t._v(t._s(t.currency(a.netAmount)))])]}},{key:"item.totalAmount",fn:function({item:a}){return[e("td",[t._v(t._s(t.currency(a.totalAmount)))])]}},{key:"item.dateTimeIssued",fn:function({item:a}){return[e("td",[t._v(t._s(t.convertDate(a.dateTimeIssued)))])]}},1!=t.filters.state.posted&&t.showUpload?{key:"item.actions",fn:function({item:a}){return[e("td",{staticClass:"pa-4"},[e(i["a"],{staticClass:"app-btn",attrs:{loading:t.table.loading,dark:""},on:{click:function(e){return e.preventDefault(),t.upload([a])}}},[e(c["a"],{staticClass:"mr-3 ml-3"},[t._v("mdi-upload-outline")]),t._v(" "+t._s(t.$t("upload"))+" ")],1)],1)]}}:null],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},p=[],g=a("f000"),f=a("2d19"),v=a("a3d3"),m=a("bc3a"),b=a.n(m),_=a("7e8e"),$=a("28f3"),y={data(){return{filters:g["a"],showUpload:!0,singleSelect:!1,selected:[],filtersOpened:!0,page:1,itemsPerPage:15,pageCount:0,table:{loading:!1,data:[],headers:[{text:this.$t("serial"),align:"center",sortable:!0,value:"serial"},{text:this.$t("internal_id"),align:"center",sortable:!0,value:"internlID"},{text:this.$t("tax"),align:"center",sortable:!0,value:"totalTax"},{text:this.$t("netAmount"),align:"center",sortable:!0,value:"netAmount"},{text:this.$t("total_amount"),align:"center",sortable:!0,value:"totalAmount"},{text:this.$t("date_time_issued"),align:"center",sortable:!0,value:"dateTimeIssued"},{text:this.$t("actions"),align:"center",sortable:!1,value:"actions"}]}}},computed:{from(){return(this.$data.page-1)*this.$data.itemsPerPage+1},to(){const t=(this.$data.page-1)*this.$data.itemsPerPage,e=t+this.$data.itemsPerPage;return e>this.$data.table.data.length?this.$data.table.data.length:e}},watch:{"filters.state":{handler(t){Object($["a"])(Object($["b"])(t),this.$route.path),this.filters.valid=this.filters.validate();let e=!("undefined"==typeof t.store||null==t.store||""==t.store),a=!("undefined"==typeof t.posted||null==t.posted||""==t.posted);e&&a&&this.getData()},deep:!0}},methods:{currency:$["d"],convertDate:$["c"],getData(){var t;"undefined"==typeof this.filters||null!==(t=this.filters)&&void 0!==t&&t.valid?(this.table.loading=!0,Object(v["c"])(this.filters.state).then(t=>{this.table.data=t,this.table.loading=!1})):this.reset()},reset(){this.table.loading=!1},async checkGoAppHealth(){await b.a.get("http://localhost:5002/health").then(t=>{console.log("health"),this.showUpload=!0}).catch(t=>{console.log(t),console.log("this.showUpload"),console.log(this.showUpload),this.showUpload=!1})},upload(t){var e;if(0==t.length)return void Object(_["a"])(this.$t("failed"),this.$t("select_some_data"),"failed");let a="";t.forEach(t=>{a+=t.serial+","});let i=null===(e=this.filters)||void 0===e?void 0:e.state;const s={serials:a,type:"I",store:parseInt(i.store)};this.table.loading=!0,Object(v["g"])(s).then(t=>{a="",this.selected=[];var e=JSON.parse(t);const i=e.acceptedDocuments.length+" success_upload ",s=e.rejectedDocuments.length+" failed_upload";let n="",l="";e.acceptedDocuments.length>0&&(n="success",l+=i),e.rejectedDocuments.length>0&&(n="failed",l+=s),Object(_["a"])(n,l,n),this.getData()}).catch(t=>{Object(_["a"])(this.$t("failed"),this.$t("failed_to_upload_whole"),"failed"),this.getData()})}},components:{AppForm:f["a"]},created(){this.checkGoAppHealth(),Object($["e"])(this.$route.query,this.filters.state);let t=this.filters.state,e=!("undefined"==typeof t.store||null==t.store||""==t.store),a=!("undefined"==typeof t.posted||null==t.posted||""==t.posted);e&&a&&this.getData()}},x=y,w=a("2877"),k=Object(w["a"])(x,d,p,!1,null,null,null);e["default"]=k.exports},"7e8e":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a("0613");const s=(t,e,a)=>{null==a&&(a=t),i["a"].commit("ui/stopSnack");let s={Active:!0,Title:t,ClassName:a,Msg:e};i["a"].commit("ui/setSnack",s)}},"891e":function(t,e,a){"use strict";a("17b3");var i=a("9d26"),s=a("dc22"),n=a("a9ad"),l=a("de2c"),o=a("7560"),r=a("58df");e["a"]=Object(r["a"])(n["a"],Object(l["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:s["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const a=e%2===0?1:0,i=Math.floor(e/2),s=this.length-i+1+a;if(this.value>i&&this.value<s){const t=1,e=this.length,s=this.value-i+2,n=this.value+i-2-a,l=s-1===t+1?2:"...",o=n+1===e-1?n+1:"...";return[1,l,...this.range(s,n),o,this.length]}if(this.value===i){const t=this.value+i-1-a;return[...this.range(1,t),"...",this.length]}if(this.value===s){const t=this.value-i+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,i),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const a=[];t=t>0?t:1;for(let i=t;i<=e;i++)a.push(i);return a},genIcon(t,e,a,s,n){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":n},on:a?{}:{click:s}},[t(i["a"],[e])])])},genItem(t,e){const a=e===this.value&&(this.color||"primary"),i=e===this.value,s=i?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":i,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,a)=>t("li",{key:a},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},f000:function(t,e,a){"use strict";var i=a("35f6"),s=a("ae4f"),n=a("370f");const l=[new n["a"](Object(s["b"])(s["f"])),new n["a"](Object(s["b"])(s["a"])),new n["a"](s["c"]),new n["a"](s["g"])],o={inputs:l},r=new i["a"](o);e["a"]=r}}]);
//# sourceMappingURL=chunk-7f1617da.2c4cf1ba.js.map